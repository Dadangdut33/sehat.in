<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ theUser.username }}'s Profile</title>

    <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}">
</head>
<body>
    {% include 'templates/header.html' %}
    <p>{{ theUser.username }}'s Profile</p>
    {% if theUser.username == user.username %}
    <a class="button history-test" href="/profile/{{ theUser.username }}/history">History</a>
    <a class="button settings" href="/profile/{{ theUser.username }}/settings">Settings</a>
    {% endif %}
    
    <p>First Name: {{ theUser.first_name }}</p> 
    <p>Last Name: {{ theUser.last_name }}</p>
    <p>Bio: 
        {% if user_profile.bio is None %}
            -
        {% else %}
            {{ user_profile.bio }}
        {% endif %}
    </p>
    <p>Location: 
        {% if user_profile.location is None %}
            -
        {% else %}
            {{ user_profile.location }}
        {% endif %}
    </p>
    <p>Role: 
        {% if theUser.is_staff %}
            Dokter
        {% else %}
            User
        {% endif %}
    </p>

    {% for post in posts %}
    <div class="post-lists" id="post-id-{{ post.id }}">
        <h1><a href="/post/{{ post.id }}">{{ post.title }}</a></h1>
        <p>Tag: <a href="/post/tag/{{ post.tag.name }}">{{ post.tag.name }}</a></p>
        {% autoescape off %}
        <p>{{ post.content }}</p>
        {% endautoescape %}
        <p>Created at {{ post.created_at }} - last updated at {{ post.updated_at }}</p>
    </div>
    {% endfor %}

    {% include 'templates/footer.html' %}
</body>
</html>